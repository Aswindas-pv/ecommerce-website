{% extends 'admin_base.html' %}

{% block custom_css %}
  {% load static %}
  <link rel="stylesheet" href="{% static 'admin_css/add_product_variants.css' %}" />
{% endblock %}

{% block title %}
  <title>SneakerHeads Edit Coupon</title>
{% endblock %}

{% block content %}
  <div class="container mt-5">
    <h2 class="text-center mt-2 mb-4">Edit Coupon</h2>
    <form action="{% url 'update_coupon' coupon.coupon_code %}" method="post">
      {% csrf_token %}
      {% if messages %}
        <div class="alert alert-danger text-center my-2 py-2 mb-4" role="alert">
          {% for message in messages %}
            {{ message }}
            <br />
          {% endfor %}
        </div>
      {% endif %}
      <div class="form-group">
        <label for="coupon_name">Coupon Name</label>
        <input type="text" class="form-control" id="coupon_name" value="{{ coupon.name }}" name="coupon_name" required />
      </div>
      <div class="form-group">
        <label for="offer_discount">Discount Percentage</label>
        <input type="number" class="form-control" id="offer_discount" value="{{ coupon.discount_percentage }}" name="offer_discount" required />
      </div>
      <div class="form-group">
        <label for="offer_start_date">Start Date</label>
        <input type="date" class="form-control" id="offer_start_date" value="{{ coupon.start_date|date:'Y-m-d' }}" name="offer_start_date" required />
      </div>
      <div class="form-group">
        <label for="offer_end_date">End Date</label>
        <input type="date" class="form-control" id="offer_end_date" value="{{ coupon.end_date|date:'Y-m-d' }}" name="offer_end_date" required />
      </div>
      <div class="form-group">
        <label for="minimum_amount">Minimum Amount*</label>
        <input type="number" class="form-control" id="minimum_amount" value="{{ coupon.minimum_amount }}" name="minimum_amount" required />
      </div>
      <div class="form-group">
        <label for="maximum_amount">Maximum Amount*</label>
        <input type="number" class="form-control" id="maximum_amount" value="{{ coupon.maximum_amount }}" name="maximum_amount" required />
      </div>
      <div class="text-center">
        <button type="submit" class="btn btn-primary w-100">SAVE</button>
      </div>
    </form>
  </div>
{% endblock %}
